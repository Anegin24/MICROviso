% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_genus.R
\name{plot_genus}
\alias{plot_genus}
\title{Plot Mean Relative Abundance at Genus Level}
\usage{
plot_genus(data, group_vars, top = 20, facet = NULL, x_var = NULL)
}
\arguments{
\item{data}{A \code{phyloseq} object containing OTU, taxonomy, and metadata.}

\item{group_vars}{Character vector of metadata variables to group by
(e.g., \code{c("treatment", "timeline")}).}

\item{top}{Integer number of top genera to display. All other genera will be grouped as \code{"Others"}.}

\item{facet}{Optional. A metadata variable name used for faceting the plot (e.g., \code{"timeline"}).}

\item{x_var}{Optional. A variable to use for the x-axis (must be one of \code{group_vars}).
If not provided, the first element of \code{group_vars} is used by default.}
}
\value{
A \code{ggplot2} object showing stacked bar plots of mean genus relative abundance.
}
\description{
This function creates a stacked bar plot of the mean relative abundance of genera
in a \code{phyloseq} object, allowing grouping by multiple metadata variables, optional
faceting, and customizable top genera display.
}
\details{
This function:
\itemize{
\item Aggregates abundance data to the Genus level.
\item Transforms counts to relative abundances.
\item Groups by selected metadata variables and computes mean abundance.
\item Displays the top N most abundant genera, grouping others as "Others".
\item Allows optional faceting using another metadata variable.
}
}
\examples{
\dontrun{
plot_genus(data = ps, group_vars = c("treatment", "timeline"), x_var = "treatment", facet = "timeline")
}

}
\seealso{
\code{\link{plot_phylum}}, \code{\link[phyloseq]{tax_glom}}, \code{\link[ggplot2]{ggplot}}
}
